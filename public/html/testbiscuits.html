<!DOCTYPE html>
<html>
    <head>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-180661759-1"></script>
        <script>
         window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
             gtag('js', new Date());

             gtag('config', 'UA-180661759-1');
        </script>
            <title>Jeu &agrave; incr&eacute;ment</title>
            <link rel="stylesheet" type="text/css" href="alumettes.css">
            <link rel="shortcut icon" type="image/jpg" href="pizap_may_icon.ico">

            <script>
                 
                var somme_biscuits = 0;
                var somme_biscuits_tofixed = somme_biscuits.toFixed(2);
                var increment = 1;

                var etiquetteboutton = "Clique moi!";
                var etiquetteboutton2 = "am&eacuteliorer les machines!";
                var amelioration = 1;

                var coutbiscuit = 15;
                var biscuitdiff = 0;


                var nbresclaves = 0;
                var prixesclaves = 100;
                var incrementesclaves = 0.1;
                var biscuitdiffesclaves = 0;
                var esclavebps = 0.10;
                var esclavebps_tofixed = esclavebps.toFixed(2);
                var esclavebpsaffichage = 0;
                esclavebpsaffichage_tofixed = esclavebpsaffichage.toFixed(2);

                function fade_out() {
                    document.getElementById("messagebiscuitinsuffisant").style.visibility = "hidden";
                }

                function onloadpage(){
                    document.getElementById("messagebiscuitinsuffisant").innerHTML = biscuitdiff + ' biscuits manquant(s) ';
                    document.getElementById("messagebiscuitinsuffisant").style.visibility = "hidden";
                }

                function biscuitscout(){
                    coutbiscuit = Math.floor(coutbiscuit * 2.5);
                    document.getElementById("machineniveau").innerHTML = etiquetteboutton2 + " (" + coutbiscuit + " biscuits)";
                }


                function somme(){
                     
                    somme_biscuits = somme_biscuits + increment;
                    somme_biscuits_tofixed = somme_biscuits.toFixed(2);
                    document.getElementById("result").innerHTML = somme_biscuits_tofixed + " biscuits";
                    
                }

                function incrementeur(){
                    somme_biscuits = somme_biscuits - coutbiscuit;
                    amelioration = amelioration + 1;
                    increment = increment + 1;

                    document.getElementById("somme1").innerHTML = etiquetteboutton + " (+" + increment + ")";
                    document.getElementById("machineniveau").innerHTML = etiquetteboutton2 + " (" + coutbiscuit + " biscuits)";
                    document.getElementById("result").innerHTML = somme_biscuits_tofixed + ' biscuits';


                }
                
                function ameliorationscurseur(){
                    
                    if (somme_biscuits >= coutbiscuit){
                        incrementeur();
                        biscuitscout();

                    }

                    else{
                        biscuitdiff = coutbiscuit - somme_biscuits;
                        document.getElementById("messagebiscuitinsuffisant").innerHTML = biscuitdiff + ' biscuits manquant(s) ';
                        document.getElementById("messagebiscuitinsuffisant").style.visibility = "visible";
                        setTimeout(fade_out, 5000);

                    }

                    
                }

                


                //esclaves

                function biscuitcoutesclaves(){
                        prixesclaves = prixesclaves * 1.50;
                    document.getElementById("result").innerHTML = somme_biscuits_tofixed + ' biscuits';
                }

                function esclave(){
                    if (somme_biscuits >= prixesclaves){
                        incrementeuresclaves();
                    }

                    else{
                        biscuitdiffesclaves = prixesclaves - somme_biscuits;
                        document.getElementById("messagebiscuitinsuffisant").innerHTML = biscuitdiffesclaves + ' biscuits manquant(s) ';
                        document.getElementById("messagebiscuitinsuffisant").style.visibility = "visible";
                        setTimeout(fade_out, 5000);

                    }

                    
                }

                function incrementeuresclaves(){
                    esclavebpsaffichage = esclavebpsaffichage + 0.10;
                    esclavebpsaffichage_tofixed = esclavebpsaffichage.toFixed(2);
                    somme_biscuits = somme_biscuits - prixesclaves;
                    document.getElementById("result").innerHTML = somme_biscuits_tofixed + ' biscuits';
                    prixesclaves = Math.floor(prixesclaves * 1.50);
                    nbresclaves = nbresclaves + 1;
                    incrementesclaves = incrementesclaves + 0.1;  
                    document.getElementById("esclavesinfo").innerHTML = "esclaves (" + nbresclaves + ")" + "<br>" + "(" + Math.floor(prixesclaves) + " biscuits)";
                    document.getElementById("esclavebiscuitsps").innerHTML = "Biscuit(s) par secondes :" + esclavebpsaffichage_tofixed;
                }
            


              function calculesclavesbps(){
                 esclavebps = 0.10;
                 esclavebps_tofixed = esclavebps.toFixed(2);
                 somme_biscuits_tofixed = somme_biscuits.toFixed(2);
                 somme_biscuits = somme_biscuits +(nbresclaves * esclavebps_tofixed);

                    document.getElementById("result").innerHTML = somme_biscuits_tofixed + ' biscuits';
                    document.getElementById("esclavebiscuitsps").innerHTML = "Biscuit(s) par secondes : " + esclavebpsaffichage_tofixed ;
                    setTimeout(fade_out, 1);

              }  

              function reloadgamedata(){
                document.getElementById("result").innerHTML = somme_biscuits_tofixed + ' biscuits';
                document.getElementById("esclavebiscuitsps").innerHTML = "Biscuit(s) par secondes : " + esclavebpsaffichage_tofixed ;
                document.getElementById("esclavesinfo").innerHTML = "esclaves (" + nbresclaves + ")" + "<br>" + "(" + Math.floor(prixesclaves) + " biscuits)";
                document.getElementById("somme1").innerHTML = etiquetteboutton + " (+" + increment + ")";
                document.getElementById("machineniveau").innerHTML = etiquetteboutton2 + " (" + coutbiscuit + " biscuits)";
              }
          

              var esclavegameloop = window.setInterval(function(){
                  calculesclavesbps()
              } ,1000 )

              var refreshgamedata = window.setInterval(function(){
                  reloadgamedata()
              } ,100 )
              
            


        </script>
    </head>
    <body onload="onloadpage()">
        <div class="center1" id="messagebiscuitinsuffisant">

        </div>
        <div class="center2" id="messagebiscuitinsuffisant">

        </div>
        
        <div class="info">
                <p id="esclavebiscuitsps">Biscuit(s) par secondes : 0.00</p>
                 <h2 style="color:white" id="result"> 0.00 biscuits</h2>
        </div>
                <br>
                <button id="somme1" onclick="somme()" >Clique moi! (+1)</button>
                <button class="curseurs" id="esclavesinfo" onclick="esclave()" >esclaves (0)<br>(100 biscuits)</button>
                <br>
                <button id="machineniveau" onclick="ameliorationscurseur()" >am&eacute;liorer les machines! (15 biscuits) </button>
        </div>
                
    </body>
</html>