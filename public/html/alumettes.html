<!DOCTYPE html>
<html>
    <head>
        <title>Jeu &agrave; incr&eacute;ment</title>
        <link rel="stylesheet" type="text/css" href="alumettes.css">
            <script>
                 
                var somme_biscuits = 0;
                var increment = 1;

                var etiquetteboutton = "Clique moi!";
                var etiquetteboutton2 = "am&eacuteliorer les machines!";
                var amelioration = 1;

                var coutbiscuit = 15;
                var biscuitdiff = 0;


                var nbresclaves = 0;
                var prixesclaves = 100;
                var incrementesclaves = 0.1;
                var biscuitdiffesclaves = 0;

                function fade_out() {
                    document.getElementById("messagebiscuitinsuffisant").style.visibility = "hidden";
                }

                function onloadpage(){
                    document.getElementById("messagebiscuitinsuffisant").innerHTML = biscuitdiff + ' biscuits manquant(s) ';
                    document.getElementById("messagebiscuitinsuffisant").style.visibility = "hidden";
                }

                function biscuitscout(){
                    coutbiscuit = coutbiscuit * 5;
                    document.getElementById("machineniveau").innerHTML = etiquetteboutton2 + " (" + coutbiscuit + " biscuits)";
                }


                function somme(){
                     
                    somme_biscuits = somme_biscuits + increment;
                    
                    document.getElementById("result").innerHTML = somme_biscuits + " biscuits";
                    
                }

                function incrementeur(){
                    somme_biscuits = somme_biscuits - coutbiscuit;
                    amelioration = amelioration + 1;
                    increment = increment + 1;

                    document.getElementById("somme1").innerHTML = etiquetteboutton + " (+" + increment + ")";
                    document.getElementById("machineniveau").innerHTML = etiquetteboutton2 + " (" + coutbiscuit + " biscuits)";
                    document.getElementById("result").innerHTML = somme_biscuits + ' biscuits';


                }
                
                function ameliorationscurseur(){
                    
                    if (somme_biscuits >= coutbiscuit){
                        incrementeur();
                        biscuitscout();

                    }

                    else{
                        biscuitdiff = coutbiscuit - somme_biscuits;
                        alert("biscuits insufisants! " + "(" + biscuitdiff + ")" );
                        document.getElementById("messagebiscuitinsuffisant").innerHTML = biscuitdiff + ' biscuits manquant(s) ';
                        document.getElementById("messagebiscuitinsuffisant").style.visibility = "visible";
                        setTimeout(fade_out, 5000);

                    }

                    
                }

                


                //esclaves

                function biscuitcoutesclaves(){
                        prixesclaves = prixesclaves * 1.50;
                    document.getElementById("result").innerHTML = somme_biscuits + ' biscuits';
                }

                function esclave(){
                    if (somme_biscuits >= prixesclaves){
                        incrementeuresclaves();
                    }

                    else{
                        biscuitdiffesclaves = prixesclaves - somme_biscuits;
                        alert("biscuits insufisants! " + "(" + biscuitdiffesclaves + ")" );
                        document.getElementById("messagebiscuitinsuffisant").innerHTML = biscuitdiffesclaves + ' biscuits manquant(s) ';
                        document.getElementById("messagebiscuitinsuffisant").style.visibility = "visible";
                        setTimeout(fade_out, 5000);

                    }

                    
                }


                function incrementeuresclaves(){
                    somme_biscuits = somme_biscuits - prixesclaves;
                    prixesclaves = Math.floor(prixesclaves * 1.50);
                    nbresclaves = nbresclaves + 1;
                    incrementesclaves = incrementesclaves + 1;
                    document.getElementById("result").innerHTML = somme_biscuits + ' biscuits';
                    document.getElementById("esclavesinfo").innerHTML = "esclaves (" + nbresclaves + ")" + "<br>" + "(" + Math.floor(prixesclaves) + " biscuits)";
                }

        </script>
    </head>
    <body onload="onloadpage()">
        <div class="center1" id="messagebiscuitinsuffisant">

        </div>
        <div class="center2" id="messagebiscuitinsuffisant">

        </div>
        
        <div class="info">
                <p>Biscuit(s) par secondes : </p>
                 <h2 style="color:white" id="result"> 0 biscuits</h2>
        </div>
                <br>
                <button id="somme1" onclick="somme()" >Clique moi! (+1)</button>
                <button class="curseurs" id="esclavesinfo" onclick="esclave()" >esclaves (0)<br>(100 biscuits)</button>
                <br>
                <button id="machineniveau" onclick="ameliorationscurseur()" >am&eacute;liorer les machines! (15 biscuits) </button>
        </div>
                
    </body>
</html>